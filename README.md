# 12306Script 高铁抢票爬虫

## 项目简介
12306Script 是基于 Node.js 的高铁/动车抢票自动化脚本，旨在帮助用户应对春运等高峰期购票难题。项目完全开源，支持多用户任务队列、邮件提醒等功能，助力顺利购票。

## 架构说明
- **Node.js** + **superagent**：模拟 12306 抢票请求
- **Redis**：任务队列与 Cookie 管理
- **Nodemailer**：邮件通知抢票/登录状态
- **PM2**：进程守护与多进程并发
- **Koa**：Web 服务与接口

```
┌────────────┐      ┌────────────┐      ┌────────────┐
│  用户配置   │──→│  抢票核心   │──→│  邮件/通知  │
└────────────┘      └────────────┘      └────────────┘
        │                   │                    │
        │                   │                    │
        └─────Redis 队列/状态管理─────┘
```

## 功能说明
- 自动查询余票并下单
- 登录状态自动校验
- 邮件提醒验证码/抢票结果
- 支持自定义出发地、目的地、日期、车次
- 任务队列管理，支持多用户

## 快速开始
1. **安装依赖**
   ```bash
   npm install
   ```
2. **配置环境变量**
   - 复制 `.env.example` 为 `.env`，填写 Redis、邮箱、12306 账号等信息
   - 所有敏感信息和配置均通过 `.env` 管理，详见 `.env.example`
3. **启动服务**
   ```bash
   npm start
   # 或使用 PM2
   npm run pm2
   ```
4. **访问 Web 服务**
   - 默认端口：`http://localhost:8899`

## 常见问题
- **验证码识别失败？**
  请手动处理邮件中的验证码链接，或优化验证码识别逻辑。
- **Redis 连接失败？**
  检查 `.env` 配置与 Redis 服务状态。
- **抢票失败？**
  可能因 12306 风控、账号异常、网络波动等。

## 贡献指南
欢迎 PR、Issue 及建议！请遵循 [CONTRIBUTING.md](./CONTRIBUTING.md) 规范。

## 安全与合规
- 本项目仅供学习交流，严禁用于商业或违法用途。
- 请勿滥用，尊重 12306 官方服务。

## License
MIT
